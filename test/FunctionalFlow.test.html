*{ You can use plain selenium command using the selenium tag }*

#{selenium}

    // Load the content
    open('/fixtures')
        
    // Open the home page, and check that no error occured
    open('/')
    assertNotTitle('Application error')
    assertTitle('Service Submission | Digital Marketplace')
    clickAndWait('new_service')

    // Lot selection page
    assertNotTitle('Application error')
    assertTextPresent('Service details')
    assertTitle('Add a new service')
    clickAndWait('submit')

    // Return to same page as no response to questions
    assertNotTitle('Application error')
    assertTextPresent('Service details')
    assertTitle('Add a new service')

    // Click a radio button to select a lot
    click('lot-SaaS')
    clickAndWait('submit')

    // First question page - check some boxes
    assertTitle('Page 1b Title | Digital Marketplace Service Submission')
    click(xpath=(//input[@type='checkbox'][@name='p2q1'])[2])
    click(xpath=(//input[@type='checkbox'][@name='p2q1'])[4])
    clickAndWait(//input[@type='submit'])

    // Check selected values have been stored
    goBackAndWait()
    assertTitle('Page 1b Title | Digital Marketplace Service Submission')
    assertElementNotPresent(xpath=(//input[@type='checkbox'][@name='p2q1'])[1][@checked])
    assertElementPresent(xpath=(//input[@type='checkbox'][@name='p2q1'])[2][@checked])
    assertElementNotPresent(xpath=(//input[@type='checkbox'][@name='p2q1'])[3][@checked])
    assertElementPresent(xpath=(//input[@type='checkbox'][@name='p2q1'])[4][@checked])
    clickAndWait(//input[@type='submit'])

    // Second question page
    type('p4q1', 'Answer to question 1')
    type('p4q2', 'Answer to question 2')
    clickAndWait(//input[@type='submit'])

    // Check selected values have been stored
    goBackAndWait()
    assertTextPresent('Using additional keywords may impact your acceptance on to the Digital Marketplace')
    verifyElementPresent(xpath=//input[@name='p4q1'][@value='Answer to question 1'])
    verifyText(xpath=//textarea[@name='p4q2'], 'Answer to question 2')
    clickAndWait(//input[@type='submit'])

#{/selenium}
